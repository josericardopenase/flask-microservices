events {
    worker_connections  1024;  # Adjust this value as needed.
}

http {
    upstream posts_backend {
        server 127.0.0.1:5004;
    }

    upstream cars_backend {
        server 127.0.0.1:5005;
    }

    upstream auth_backend {
        server 127.0.0.1:5003;
    }

    server {
        listen 80;

        location /post_service {
            proxy_pass http://posts_backend;
        }

        location /cars_service {
            proxy_pass http://cars_backend;
        }

        location /auth_service {
            proxy_pass http://auth_backend;
        }

        # Additional configuration can be added here, such as SSL termination and request/response modification.
    }
}

